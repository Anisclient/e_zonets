{"version":3,"sources":["components/product/star.tsx","containers/product-page/style.module.css","containers/product-page/product-page.tsx"],"names":["Star","width","height","viewBox","fill","xmlns","d","module","exports","ProductPage","dispatch","useDispatch","t","useTranslation","productId","useParams","useLocalStorageInBasket","useLocalStorageToLikeProduct","allProducts","useSelector","selectors","productsInMain","product","find","id","productsByIdFromBasket","basket","className","style","productPage","container","productPageBody","productPageImg","src","image","alt","localStorage","getItem","title","ru","en","productPageRight","productPageDescription","productPageTitle","productPageLine","liked","productPageLikeWrapper","active","onClick","e","unlikeProduct","preventDefault","handleUnlike","likeProduct","handleLike","productPagePrice","price","productPageRating","Array","rating","map","_","i","role","aria-label","colorScheme","ButtonColors","green","productPageButton","addToBasketReducer","productsById","length"],"mappings":"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","file":"static/js/product-page.9a3362a2.chunk.js","sourcesContent":["import React from 'react';\n\nconst Star: React.FC = () => {\n    return (\n        <svg\n            width=\"18\"\n            height=\"17\"\n            viewBox=\"0 0 18 17\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n        >\n            <path\n                d=\"M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n};\n\nexport default Star;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__aI0lx\",\"productPage\":\"style_productPage__1AN2M\",\"productPageBody\":\"style_productPageBody__NQmMi\",\"productPageImg\":\"style_productPageImg__3pmP_\",\"productPageRight\":\"style_productPageRight__hjL0M\",\"productPageDescription\":\"style_productPageDescription__ypRjB\",\"productPageTitle\":\"style_productPageTitle__3tXyC\",\"productPageLine\":\"style_productPageLine__EvUUM\",\"productPageLikeWrapper\":\"style_productPageLikeWrapper__3y9cb\",\"active\":\"style_active__2m7Vr\",\"productPagePrice\":\"style_productPagePrice__2kT-h\",\"productPageRating\":\"style_productPageRating__3zl5N\",\"productPageButton\":\"style_productPageButton__3dqJY\"};","import LikeIcon from '../../components/header/like-icon';\nimport React from 'react';\nimport style from './style.module.css';\nimport Star from '../../components/product/star';\nimport { Button, ButtonColors } from '../../components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    // chooseProductToSingleProductPage,\n    likeProduct,\n    unlikeProduct,\n} from '../../__data__/actions/products';\nimport { AppStore } from '../../__data__/store/reducers';\nimport {\n    addToBasket as addToBasketReducer,\n    AllProducts,\n} from '../../__data__/store/reducers/basket';\nimport * as selectors from '../../__data__/selectors';\nimport { useTranslation } from 'react-i18next';\nimport {\n    useLocalStorageInBasket,\n    useLocalStorageToLikeProduct,\n} from '../../utils';\nimport { useParams } from 'react-router-dom';\n/* eslint-disable no-unused-vars */\n\ninterface ProductId {\n    productId: string;\n}\n\nconst ProductPage: React.FC = () => {\n    const dispatch = useDispatch();\n    const { t } = useTranslation();\n    const { productId } = useParams<ProductId>();\n    // const isLoaded = useSelector(selectors.allProducts.isLoaded);\n\n    useLocalStorageInBasket();\n    useLocalStorageToLikeProduct();\n\n    // const product = useSelector(selectors.allProducts.singleProduct);\n    const allProducts = useSelector(selectors.allProducts.productsInMain);\n\n    const product = allProducts?.find((product) => product.id === +productId);\n\n    const productsByIdFromBasket = useSelector<AppStore, AllProducts>(\n        ({ basket }) => basket.allProducts[product?.id]\n    );\n\n    function handleLike(e) {\n        dispatch(likeProduct(product));\n        e.preventDefault();\n    }\n\n    function handleUnlike(e) {\n        dispatch(unlikeProduct(product));\n        e.preventDefault();\n    }\n\n    function addToBasket() {\n        dispatch(addToBasketReducer(product));\n    }\n\n    return (\n        <div className={style.productPage}>\n            <div className={style.container}>\n                {/* {!isLoaded ? (\n                    <p>Loading...</p>\n                ) : ( */}\n                <div className={style.productPageBody}>\n                    <div className={style.productPageImg}>\n                        <img\n                            src={product && product?.image}\n                            alt={\n                                product &&\n                                localStorage.getItem('i18nextLng') === 'ru'\n                                    ? product?.title.ru\n                                    : product?.title.en\n                            }\n                        />\n                    </div>\n                    <div className={style.productPageRight}>\n                        <div className={style.productPageDescription}>\n                            <div className={style.productPageTitle}>\n                                {product &&\n                                localStorage.getItem('i18nextLng') === 'ru'\n                                    ? product?.title.ru\n                                    : product?.title.en}\n                            </div>\n                            <div className={style.productPageLine}></div>\n\n                            {product && product?.liked ? (\n                                <div className={style.productPageLikeWrapper}>\n                                    <span>\n                                        {t('i18next.product.addedtofavorites')}\n                                    </span>\n                                    <button\n                                        className={style.active}\n                                        onClick={(e) => handleUnlike(e)}\n                                        title={t(\n                                            'i18next.product.removefromfavorites'\n                                        )}\n                                    >\n                                        <LikeIcon />\n                                    </button>\n                                </div>\n                            ) : (\n                                <div className={style.productPageLikeWrapper}>\n                                    <span>\n                                        {t('i18next.product.addtofavorites')}\n                                    </span>\n                                    <button\n                                        onClick={(e) => handleLike(e)}\n                                        title={t(\n                                            'i18next.product.addtofavorites'\n                                        )}\n                                    >\n                                        <LikeIcon />\n                                    </button>\n                                </div>\n                            )}\n\n                            <div className={style.productPagePrice}>\n                                <span>{t('i18next.product.price')}</span>\n                                <p>\n                                    <strong>{product && product?.price}</strong>\n                                    <small>â‚½</small>\n                                </p>\n                            </div>\n                            <div className={style.productPageRating}>\n                                {Array(product && product?.rating)\n                                    .fill(product && product?.rating)\n                                    .map((_, i) => (\n                                        <span\n                                            role=\"img\"\n                                            aria-label=\"star\"\n                                            key={i}\n                                        >\n                                            <Star />\n                                        </span>\n                                    ))}\n                            </div>\n                        </div>\n                        <Button\n                            colorScheme={ButtonColors.green}\n                            className={style.productPageButton}\n                            onClick={addToBasket}\n                        >\n                            {productsByIdFromBasket\n                                ? `${t('i18next.button.added')}: ${\n                                      productsByIdFromBasket &&\n                                      productsByIdFromBasket.productsById.length\n                                  } ${\n                                      productsByIdFromBasket &&\n                                      productsByIdFromBasket.productsById\n                                          .length === 1\n                                          ? t('i18next.button.pc')\n                                          : t('i18next.button.pcs')\n                                  }.`\n                                : t('i18next.button.addtocart')}\n                        </Button>\n                    </div>\n                </div>\n                {/* )} */}\n            </div>\n        </div>\n    );\n};\n\nexport default ProductPage;\n"],"sourceRoot":""}