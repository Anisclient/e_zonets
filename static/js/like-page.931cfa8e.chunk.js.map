{"version":3,"sources":["components/product/product.tsx","components/product/star.tsx","components/product/index.ts","components/product/style.module.css","containers/like-page/style.module.css","containers/like-page/like-page.tsx"],"names":["ProductViewType","Product","product","type","title","price","rating","image","liked","id","t","useTranslation","dispatch","useDispatch","useState","like","setLike","allProductsFromBasket","useSelector","basket","allProducts","useEffect","className","style","to","URLs","url","cn","productLike","productActive","likeButton","onClick","e","unlikeProduct","preventDefault","handleUnlike","likeProduct","handleLike","productImg","src","alt","localStorage","getItem","ru","en","productPrice","productText","productRating","Array","fill","map","_","i","role","aria-label","colorScheme","ButtonColors","green","buttonOffset","addToBasketReducer","addToBasket","productsById","length","Star","width","height","viewBox","xmlns","d","module","exports","LikePage","useLocalStorageInBasket","likedProducts","useLocalStorageToLikeProduct","likePage","container","likePageTitle","likePageBody","forLike","likePageText"],"mappings":"4IAqBYA,E,2IAAAA,K,4BAAAA,E,0BAAAA,M,KAiJGC,IAvIyB,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,KACxCC,EAA2CF,EAA3CE,MAAOC,EAAoCH,EAApCG,MAAOC,EAA6BJ,EAA7BI,OAAQC,EAAqBL,EAArBK,MAAOC,EAAcN,EAAdM,MAAOC,EAAOP,EAAPO,GACpCC,EAAMC,cAAND,EACFE,EAAWC,cAH0C,EAKnCC,oBAAS,GAL0B,mBAKpDC,EALoD,KAK9CC,EAL8C,KAOrDC,EAAwBC,aAG5B,qBAAGC,OAAoBC,eAyBzB,OAvBAC,qBAAU,WACNL,EAAQR,KACT,CAACA,IAsBA,qBAAKc,UAAWC,IAAMpB,GAAtB,SACI,eAAC,IAAD,CACIqB,GAAE,UAAKC,IAAKvB,QAAQwB,IAAlB,YAAyBjB,GAC3Ba,UAAWC,IAAMrB,QAFrB,UAKKa,EACG,qBACIO,UAAWK,IAAGJ,IAAMK,YAAaL,IAAMM,eACvCzB,MAAOM,EAAE,uCAFb,SAII,wBACIY,UAAWC,IAAMO,WACjBC,QAAS,SAACC,GAAD,OA5BjC,SAAsBA,GAClBpB,EAASqB,YAAc/B,IACvB8B,EAAEE,iBA0BkCC,CAAaH,IAFjC,SAII,cAAC,IAAD,QAIR,qBACIV,UAAWC,IAAMK,YACjBxB,MAAOM,EAAE,kCAFb,SAII,wBACIY,UAAWC,IAAMO,WACjBC,QAAS,SAACC,GAAD,OA7CjC,SAAoBA,GAChBpB,EAASwB,YAAYlC,IACrB8B,EAAEE,iBA2CkCG,CAAWL,IAF/B,SAII,cAAC,IAAD,QAIZ,qBAAKV,UAAWC,IAAMe,WAAtB,SACI,qBACIC,IAAKhC,EACLiC,IAC2C,OAAvCC,aAAaC,QAAQ,cACftC,EAAMuC,GACNvC,EAAMwC,OAIxB,oBAAGtB,UAAWC,IAAMsB,aAApB,UACI,iCAASxC,IACT,8CAEJ,mBAAGiB,UAAWC,IAAMuB,YAApB,SAC4C,OAAvCL,aAAaC,QAAQ,cAChBtC,EAAMuC,GACNvC,EAAMwC,KAEhB,qBAAKtB,UAAWC,IAAMwB,cAAtB,SACKC,MAAM1C,GACF2C,KAAK3C,GACL4C,KAAI,SAACC,EAAGC,GAAJ,OACD,sBAAMC,KAAK,MAAMC,aAAW,OAA5B,SACI,cAAC,IAAD,KADoCF,QAKpD,cAAC,IAAD,CACIG,YAAaC,IAAaC,MAC1BnC,UAAWC,IAAMmC,aACjB3B,QAAS,SAACC,GAAD,OApEzB,SAAqBA,GACjBpB,EAAS+C,YAAmBzD,IAC5B8B,EAAEE,iBAkE0B0B,CAAY5B,IAHhC,SAKKf,EAAsBR,GAAtB,UACQC,EAAE,wBADV,4CAGaO,EAAsBR,IACtBQ,EAAsBR,GAAIoD,aAAaC,OAJpD,YAMS7C,EAAsBR,IAElB,IADJQ,EAAsBR,GAAIoD,aAAaC,OAEjCpD,EAAE,qBACFA,EAAE,sBAVjB,KAYKA,EAAE,qC,iCC/I5B,gBAmBeqD,IAjBQ,WACnB,OACI,qBACIC,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRjB,KAAK,OACLkB,MAAM,6BALV,SAOI,sBACIC,EAAE,uIACFnB,KAAK,qB,iCCbrB,kD,oBCCAoB,EAAOC,QAAU,CAAC,oBAAoB,iCAAiC,WAAa,0BAA0B,aAAe,4BAA4B,YAAc,2BAA2B,WAAa,0BAA0B,cAAgB,6BAA6B,iBAAiB,8BAA8B,QAAU,uBAAuB,aAAe,4BAA4B,YAAc,2BAA2B,cAAgB,+B,oBCA1cD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,SAAW,wBAAwB,aAAe,4BAA4B,cAAgB,6BAA6B,aAAe,8B,iCCDjM,8EA6FeC,UA1EY,WAAO,IACtB7D,EAAMC,cAAND,EAER8D,cACA,IAAMC,EAAgBC,cAwCtB,OACI,qBAAKpD,UAAWC,IAAMoD,SAAtB,SACI,sBAAKrD,UAAWC,IAAMqD,UAAtB,UACI,oBAAItD,UAAWC,IAAMsD,cAArB,SACKnE,EAAE,4BAEP,qBAAKY,UAAWC,IAAMuD,aAAtB,SACKL,GACGA,EAAcvB,KAAI,SAAChD,GAAD,OACd,cAAC,IAAD,CAEIC,KAAMH,IAAgB+E,QACtB7E,QAASA,GAFJA,EAAQO,WAM5B,OAACgE,QAAD,IAACA,OAAD,EAACA,EAAeX,SACb,oBAAGxC,UAAWC,IAAMyD,aAApB,UACKtE,EAAE,kCADP","file":"static/js/like-page.931cfa8e.chunk.js","sourcesContent":["import style from './style.module.css';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport LikeIcon from '../header/like-icon';\nimport Star from './star';\nimport Button, { ButtonColors } from '../button';\nimport { URLs } from '../../__data__/urls';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { ProductsItem } from '../../__data__/store/reducers/products';\nimport {\n    addToBasket as addToBasketReducer,\n    AllProducts,\n} from '../../__data__/store/reducers/basket';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { likeProduct, unlikeProduct } from '../../__data__/actions/products';\n// import { chooseProductToSingleProductPage } from '../../__data__/actions/products';\nimport { AppStore } from '../../__data__/store/reducers';\nimport { useTranslation } from 'react-i18next';\n/* eslint-disable no-unused-vars */\n\nexport enum ProductViewType {\n    forMain = 'product-container',\n    forLike = 'like-container',\n}\n\ninterface ProductsProp {\n    product: ProductsItem;\n    type: ProductViewType;\n}\n\nconst Product: React.FC<ProductsProp> = ({ product, type }) => {\n    const { title, price, rating, image, liked, id } = product;\n    const { t } = useTranslation();\n    const dispatch = useDispatch();\n\n    const [like, setLike] = useState(false);\n\n    const allProductsFromBasket = useSelector<\n        AppStore,\n        AllProducts | AllProducts[]\n    >(({ basket }) => basket.allProducts);\n\n    useEffect(() => {\n        setLike(liked);\n    }, [liked]);\n\n    function handleLike(e) {\n        dispatch(likeProduct(product));\n        e.preventDefault();\n    }\n\n    function handleUnlike(e) {\n        dispatch(unlikeProduct(product));\n        e.preventDefault();\n    }\n\n    // function chooseProduct() {\n    //     dispatch(chooseProductToSingleProductPage(product));\n    // }\n\n    function addToBasket(e) {\n        dispatch(addToBasketReducer(product));\n        e.preventDefault();\n    }\n\n    return (\n        <div className={style[type]}>\n            <Link\n                to={`${URLs.product.url}/${id}`}\n                className={style.product}\n                // onClick={chooseProduct}\n            >\n                {like ? (\n                    <div\n                        className={cn(style.productLike, style.productActive)}\n                        title={t('i18next.product.removefromfavorites')}\n                    >\n                        <button\n                            className={style.likeButton}\n                            onClick={(e) => handleUnlike(e)}\n                        >\n                            <LikeIcon />\n                        </button>\n                    </div>\n                ) : (\n                    <div\n                        className={style.productLike}\n                        title={t('i18next.product.addtofavorites')}\n                    >\n                        <button\n                            className={style.likeButton}\n                            onClick={(e) => handleLike(e)}\n                        >\n                            <LikeIcon />\n                        </button>\n                    </div>\n                )}\n                <div className={style.productImg}>\n                    <img\n                        src={image}\n                        alt={\n                            localStorage.getItem('i18nextLng') === 'ru'\n                                ? title.ru\n                                : title.en\n                        }\n                    />\n                </div>\n                <p className={style.productPrice}>\n                    <strong>{price}</strong>\n                    <small>â‚½</small>\n                </p>\n                <p className={style.productText}>\n                    {localStorage.getItem('i18nextLng') === 'ru'\n                        ? title.ru\n                        : title.en}\n                </p>\n                <div className={style.productRating}>\n                    {Array(rating)\n                        .fill(rating)\n                        .map((_, i) => (\n                            <span role=\"img\" aria-label=\"star\" key={i}>\n                                <Star />\n                            </span>\n                        ))}\n                </div>\n                <Button\n                    colorScheme={ButtonColors.green}\n                    className={style.buttonOffset}\n                    onClick={(e) => addToBasket(e)}\n                >\n                    {allProductsFromBasket[id]\n                        ? `${t('i18next.button.added')}:\n                              ${\n                                  allProductsFromBasket[id] &&\n                                  allProductsFromBasket[id].productsById.length\n                              } ${\n                              allProductsFromBasket[id] &&\n                              allProductsFromBasket[id].productsById.length ===\n                                  1\n                                  ? t('i18next.button.pc')\n                                  : t('i18next.button.pcs')\n                          }.`\n                        : t('i18next.button.addtocart')}\n                </Button>\n            </Link>\n        </div>\n    );\n};\n\nProduct.propTypes = {\n    product: PropTypes.exact({\n        title: PropTypes.exact({\n            ru: PropTypes.string.isRequired,\n            en: PropTypes.string.isRequired,\n        }).isRequired,\n        price: PropTypes.number.isRequired,\n        rating: PropTypes.number.isRequired,\n        image: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired,\n        liked: PropTypes.bool.isRequired,\n    }).isRequired,\n    type: PropTypes.oneOf([ProductViewType.forLike, ProductViewType.forMain])\n        .isRequired,\n};\n\nexport default Product;\n","import React from 'react';\n\nconst Star: React.FC = () => {\n    return (\n        <svg\n            width=\"18\"\n            height=\"17\"\n            viewBox=\"0 0 18 17\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n        >\n            <path\n                d=\"M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n};\n\nexport default Star;\n","export { default } from './product';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product-container\":\"style_product-container__3nEhd\",\"productImg\":\"style_productImg__2niHQ\",\"buttonOffset\":\"style_buttonOffset__3OfXY\",\"productLike\":\"style_productLike__1aDK7\",\"likeButton\":\"style_likeButton__cuhdQ\",\"productActive\":\"style_productActive__3Gpsu\",\"like-container\":\"style_like-container__29Cr-\",\"product\":\"style_product__JI57e\",\"productPrice\":\"style_productPrice__Z84oD\",\"productText\":\"style_productText__495So\",\"productRating\":\"style_productRating__3xbyq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__WtffX\",\"likePage\":\"style_likePage__1Djx1\",\"likePageBody\":\"style_likePageBody__1ZaMp\",\"likePageTitle\":\"style_likePageTitle__3e79j\",\"likePageText\":\"style_likePageText__2VYi4\"};","import Product from '../../components/product';\nimport React from 'react';\nimport style from './style.module.css';\nimport { ProductViewType } from '../../components/product/product';\n// import PropTypes from 'prop-types';\n// import { ProductsItem } from '../../__data__/store/reducers/products';\nimport { useTranslation } from 'react-i18next';\n// import { likeProduct } from '../../__data__/actions/products';\n// import * as selectors from '../../__data__/selectors';\n// import { useDispatch, useSelector } from 'react-redux';\nimport {\n    useLocalStorageInBasket,\n    useLocalStorageToLikeProduct,\n} from '../../utils';\n\n// interface LikePageProps {\n// dataToLikePage?: ProductsItem[];\n// }\n\nconst LikePage: React.FC = () => {\n    const { t } = useTranslation();\n\n    useLocalStorageInBasket();\n    const likedProducts = useLocalStorageToLikeProduct();\n\n    // const dispatch = useDispatch();\n\n    // const likedProducts = useSelector(selectors.allProducts.likedProducts);\n\n    // const [likedProductsState, setLikedProductsState] = useState(\n    //     likedProducts.length === 0\n    //         ? window.localStorage['liked-products-in-local-storage'] &&\n    //               JSON.parse(\n    //                   window.localStorage['liked-products-in-local-storage']\n    //               )\n    //         : likedProducts\n    // );\n\n    // useEffect(() => {\n    //     if (\n    //         likedProducts.length === 0 &&\n    //         window.localStorage['liked-products-in-local-storage']\n    //     ) {\n    //         const likedProductsFromLocalStorageArr = JSON.parse(\n    //             window.localStorage['liked-products-in-local-storage']\n    //         );\n\n    //         likedProductsFromLocalStorageArr.forEach((product) => {\n    //             dispatch(likeProduct(product));\n    //         });\n    //     }\n    // }, []);\n\n    // useEffect(() => {\n    //     if (likedProducts) {\n    //         setLikedProductsState(likedProducts);\n    //         window.localStorage.setItem(\n    //             'liked-products-in-local-storage',\n    //             JSON.stringify(likedProducts)\n    //         );\n    //     }\n    // }, [likedProducts]);\n\n    return (\n        <div className={style.likePage}>\n            <div className={style.container}>\n                <h3 className={style.likePageTitle}>\n                    {t('i18next.likepage.title')}\n                </h3>\n                <div className={style.likePageBody}>\n                    {likedProducts &&\n                        likedProducts.map((product) => (\n                            <Product\n                                key={product.id}\n                                type={ProductViewType.forLike}\n                                product={product}\n                            />\n                        ))}\n                </div>\n                {!likedProducts?.length && (\n                    <p className={style.likePageText}>\n                        {t('i18next.likepage.textifnothing')} ðŸ˜•\n                    </p>\n                )}\n            </div>\n        </div>\n    );\n};\n\n// LikePage.propTypes = {\n//     dataToLikePage: PropTypes.array,\n// };\n\nexport default LikePage;\n"],"sourceRoot":""}