{"version":3,"sources":["components/product/product.tsx","components/product/star.tsx","components/product/index.ts","components/product/style.module.css","containers/maincontent/style.module.css","containers/maincontent/maincontent.tsx"],"names":["ProductViewType","Product","product","type","title","price","rating","image","liked","id","t","useTranslation","dispatch","useDispatch","useState","like","setLike","allProductsFromBasket","useSelector","basket","allProducts","useEffect","className","style","to","URLs","url","cn","productLike","productActive","likeButton","onClick","e","unlikeProduct","preventDefault","handleUnlike","likeProduct","handleLike","productImg","src","alt","localStorage","getItem","ru","en","productPrice","productText","productRating","Array","fill","map","_","i","role","aria-label","colorScheme","ButtonColors","green","buttonOffset","addToBasketReducer","addToBasket","productsById","length","Star","width","height","viewBox","xmlns","d","module","exports","slides","slide","Images","Slide1","link","Slide2","Slide3","Main","isLoaded","selectors","productsInMain","useLocalStorageInBasket","useLocalStorageToLikeProduct","main","container","mainBody","banner","products","productsWrapper","forMain"],"mappings":"4IAqBYA,E,2IAAAA,K,4BAAAA,E,0BAAAA,M,KAiJGC,IAvIyB,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,KACxCC,EAA2CF,EAA3CE,MAAOC,EAAoCH,EAApCG,MAAOC,EAA6BJ,EAA7BI,OAAQC,EAAqBL,EAArBK,MAAOC,EAAcN,EAAdM,MAAOC,EAAOP,EAAPO,GACpCC,EAAMC,cAAND,EACFE,EAAWC,cAH0C,EAKnCC,oBAAS,GAL0B,mBAKpDC,EALoD,KAK9CC,EAL8C,KAOrDC,EAAwBC,aAG5B,qBAAGC,OAAoBC,eAyBzB,OAvBAC,qBAAU,WACNL,EAAQR,KACT,CAACA,IAsBA,qBAAKc,UAAWC,IAAMpB,GAAtB,SACI,eAAC,IAAD,CACIqB,GAAE,UAAKC,IAAKvB,QAAQwB,IAAlB,YAAyBjB,GAC3Ba,UAAWC,IAAMrB,QAFrB,UAKKa,EACG,qBACIO,UAAWK,IAAGJ,IAAMK,YAAaL,IAAMM,eACvCzB,MAAOM,EAAE,uCAFb,SAII,wBACIY,UAAWC,IAAMO,WACjBC,QAAS,SAACC,GAAD,OA5BjC,SAAsBA,GAClBpB,EAASqB,YAAc/B,IACvB8B,EAAEE,iBA0BkCC,CAAaH,IAFjC,SAII,cAAC,IAAD,QAIR,qBACIV,UAAWC,IAAMK,YACjBxB,MAAOM,EAAE,kCAFb,SAII,wBACIY,UAAWC,IAAMO,WACjBC,QAAS,SAACC,GAAD,OA7CjC,SAAoBA,GAChBpB,EAASwB,YAAYlC,IACrB8B,EAAEE,iBA2CkCG,CAAWL,IAF/B,SAII,cAAC,IAAD,QAIZ,qBAAKV,UAAWC,IAAMe,WAAtB,SACI,qBACIC,IAAKhC,EACLiC,IAC2C,OAAvCC,aAAaC,QAAQ,cACftC,EAAMuC,GACNvC,EAAMwC,OAIxB,oBAAGtB,UAAWC,IAAMsB,aAApB,UACI,iCAASxC,IACT,8CAEJ,mBAAGiB,UAAWC,IAAMuB,YAApB,SAC4C,OAAvCL,aAAaC,QAAQ,cAChBtC,EAAMuC,GACNvC,EAAMwC,KAEhB,qBAAKtB,UAAWC,IAAMwB,cAAtB,SACKC,MAAM1C,GACF2C,KAAK3C,GACL4C,KAAI,SAACC,EAAGC,GAAJ,OACD,sBAAMC,KAAK,MAAMC,aAAW,OAA5B,SACI,cAAC,IAAD,KADoCF,QAKpD,cAAC,IAAD,CACIG,YAAaC,IAAaC,MAC1BnC,UAAWC,IAAMmC,aACjB3B,QAAS,SAACC,GAAD,OApEzB,SAAqBA,GACjBpB,EAAS+C,YAAmBzD,IAC5B8B,EAAEE,iBAkE0B0B,CAAY5B,IAHhC,SAKKf,EAAsBR,GAAtB,UACQC,EAAE,wBADV,4CAGaO,EAAsBR,IACtBQ,EAAsBR,GAAIoD,aAAaC,OAJpD,YAMS7C,EAAsBR,IAElB,IADJQ,EAAsBR,GAAIoD,aAAaC,OAEjCpD,EAAE,qBACFA,EAAE,sBAVjB,KAYKA,EAAE,qC,iCC/I5B,gBAmBeqD,IAjBQ,WACnB,OACI,qBACIC,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRjB,KAAK,OACLkB,MAAM,6BALV,SAOI,sBACIC,EAAE,uIACFnB,KAAK,qB,iCCbrB,kD,oBCCAoB,EAAOC,QAAU,CAAC,oBAAoB,iCAAiC,WAAa,0BAA0B,aAAe,4BAA4B,YAAc,2BAA2B,WAAa,0BAA0B,cAAgB,6BAA6B,iBAAiB,8BAA8B,QAAU,uBAAuB,aAAe,4BAA4B,YAAc,2BAA2B,cAAgB,+B,oBCA1cD,EAAOC,QAAU,CAAC,KAAO,oBAAoB,UAAY,yBAAyB,SAAW,wBAAwB,OAAS,sBAAsB,SAAW,wBAAwB,gBAAkB,iC,iCCDzM,4FAeMC,EAA8B,CAChC,CACIC,MAAOC,IAAOC,OACdjE,GAAI,EACJL,MAAO,gBACPuE,KAAM,6BAEV,CACIH,MAAOC,IAAOG,OACdnE,GAAI,EACJL,MAAO,YACPuE,KAAM,+CAEV,CACIH,MAAOC,IAAOI,OACdpE,GAAI,EACJL,MAAO,YACPuE,KAAM,0BAgDCG,UA5CQ,WAGnB,IAAMC,EAAW7D,YAAY8D,IAAsBD,UAC7CE,EAAiB/D,YAAY8D,IAAsBC,gBAWzD,OATAC,cACAC,cASI,sBAAM7D,UAAWC,IAAM6D,KAAvB,SACI,qBAAK9D,UAAWC,IAAM8D,UAAtB,SACI,sBAAK/D,UAAWC,IAAM+D,SAAtB,UACI,yBAAShE,UAAWC,IAAMgE,OAA1B,SACI,cAAC,IAAD,CAAUhB,OAAQA,MAEtB,yBAASjD,UAAWC,IAAMiE,SAA1B,SACI,qBAAKlE,UAAWC,IAAMkE,gBAAtB,SACMV,EAGEE,GACAA,EAAe/B,KAAI,SAAChD,GAAD,OACf,cAAC,IAAD,CAEIC,KAAMH,IAAgB0F,QACtBxF,QAASA,GAFJA,EAAQO,OALrB","file":"static/js/maincontent.631e5fc3.chunk.js","sourcesContent":["import style from './style.module.css';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport LikeIcon from '../header/like-icon';\nimport Star from './star';\nimport Button, { ButtonColors } from '../button';\nimport { URLs } from '../../__data__/urls';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { ProductsItem } from '../../__data__/store/reducers/products';\nimport {\n    addToBasket as addToBasketReducer,\n    AllProducts,\n} from '../../__data__/store/reducers/basket';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { likeProduct, unlikeProduct } from '../../__data__/actions/products';\n// import { chooseProductToSingleProductPage } from '../../__data__/actions/products';\nimport { AppStore } from '../../__data__/store/reducers';\nimport { useTranslation } from 'react-i18next';\n/* eslint-disable no-unused-vars */\n\nexport enum ProductViewType {\n    forMain = 'product-container',\n    forLike = 'like-container',\n}\n\ninterface ProductsProp {\n    product: ProductsItem;\n    type: ProductViewType;\n}\n\nconst Product: React.FC<ProductsProp> = ({ product, type }) => {\n    const { title, price, rating, image, liked, id } = product;\n    const { t } = useTranslation();\n    const dispatch = useDispatch();\n\n    const [like, setLike] = useState(false);\n\n    const allProductsFromBasket = useSelector<\n        AppStore,\n        AllProducts | AllProducts[]\n    >(({ basket }) => basket.allProducts);\n\n    useEffect(() => {\n        setLike(liked);\n    }, [liked]);\n\n    function handleLike(e) {\n        dispatch(likeProduct(product));\n        e.preventDefault();\n    }\n\n    function handleUnlike(e) {\n        dispatch(unlikeProduct(product));\n        e.preventDefault();\n    }\n\n    // function chooseProduct() {\n    //     dispatch(chooseProductToSingleProductPage(product));\n    // }\n\n    function addToBasket(e) {\n        dispatch(addToBasketReducer(product));\n        e.preventDefault();\n    }\n\n    return (\n        <div className={style[type]}>\n            <Link\n                to={`${URLs.product.url}/${id}`}\n                className={style.product}\n                // onClick={chooseProduct}\n            >\n                {like ? (\n                    <div\n                        className={cn(style.productLike, style.productActive)}\n                        title={t('i18next.product.removefromfavorites')}\n                    >\n                        <button\n                            className={style.likeButton}\n                            onClick={(e) => handleUnlike(e)}\n                        >\n                            <LikeIcon />\n                        </button>\n                    </div>\n                ) : (\n                    <div\n                        className={style.productLike}\n                        title={t('i18next.product.addtofavorites')}\n                    >\n                        <button\n                            className={style.likeButton}\n                            onClick={(e) => handleLike(e)}\n                        >\n                            <LikeIcon />\n                        </button>\n                    </div>\n                )}\n                <div className={style.productImg}>\n                    <img\n                        src={image}\n                        alt={\n                            localStorage.getItem('i18nextLng') === 'ru'\n                                ? title.ru\n                                : title.en\n                        }\n                    />\n                </div>\n                <p className={style.productPrice}>\n                    <strong>{price}</strong>\n                    <small>â‚½</small>\n                </p>\n                <p className={style.productText}>\n                    {localStorage.getItem('i18nextLng') === 'ru'\n                        ? title.ru\n                        : title.en}\n                </p>\n                <div className={style.productRating}>\n                    {Array(rating)\n                        .fill(rating)\n                        .map((_, i) => (\n                            <span role=\"img\" aria-label=\"star\" key={i}>\n                                <Star />\n                            </span>\n                        ))}\n                </div>\n                <Button\n                    colorScheme={ButtonColors.green}\n                    className={style.buttonOffset}\n                    onClick={(e) => addToBasket(e)}\n                >\n                    {allProductsFromBasket[id]\n                        ? `${t('i18next.button.added')}:\n                              ${\n                                  allProductsFromBasket[id] &&\n                                  allProductsFromBasket[id].productsById.length\n                              } ${\n                              allProductsFromBasket[id] &&\n                              allProductsFromBasket[id].productsById.length ===\n                                  1\n                                  ? t('i18next.button.pc')\n                                  : t('i18next.button.pcs')\n                          }.`\n                        : t('i18next.button.addtocart')}\n                </Button>\n            </Link>\n        </div>\n    );\n};\n\nProduct.propTypes = {\n    product: PropTypes.exact({\n        title: PropTypes.exact({\n            ru: PropTypes.string.isRequired,\n            en: PropTypes.string.isRequired,\n        }).isRequired,\n        price: PropTypes.number.isRequired,\n        rating: PropTypes.number.isRequired,\n        image: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired,\n        liked: PropTypes.bool.isRequired,\n    }).isRequired,\n    type: PropTypes.oneOf([ProductViewType.forLike, ProductViewType.forMain])\n        .isRequired,\n};\n\nexport default Product;\n","import React from 'react';\n\nconst Star: React.FC = () => {\n    return (\n        <svg\n            width=\"18\"\n            height=\"17\"\n            viewBox=\"0 0 18 17\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n        >\n            <path\n                d=\"M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z\"\n                fill=\"currentColor\"\n            />\n        </svg>\n    );\n};\n\nexport default Star;\n","export { default } from './product';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product-container\":\"style_product-container__3nEhd\",\"productImg\":\"style_productImg__2niHQ\",\"buttonOffset\":\"style_buttonOffset__3OfXY\",\"productLike\":\"style_productLike__1aDK7\",\"likeButton\":\"style_likeButton__cuhdQ\",\"productActive\":\"style_productActive__3Gpsu\",\"like-container\":\"style_like-container__29Cr-\",\"product\":\"style_product__JI57e\",\"productPrice\":\"style_productPrice__Z84oD\",\"productText\":\"style_productText__495So\",\"productRating\":\"style_productRating__3xbyq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__1fBUK\",\"container\":\"style_container__3BSoH\",\"mainBody\":\"style_mainBody__2VV-z\",\"banner\":\"style_banner__SRa_L\",\"products\":\"style_products__1gp7V\",\"productsWrapper\":\"style_productsWrapper__3LaLO\"};","import { Carousel } from '../../components';\nimport React from 'react';\nimport style from './style.module.css';\nimport { CarouselSlideItem, Images } from '../../components';\nimport Product from '../../components/product';\nimport { ProductViewType } from '../../components/product/product';\nimport { useSelector } from 'react-redux';\nimport * as selectors from '../../__data__/selectors';\n// import { setProducts } from '../../__data__/actions/products';\nimport {\n    useLocalStorageInBasket,\n    useLocalStorageToLikeProduct,\n} from '../../utils';\n/* eslint-disable no-unused-vars */\n\nconst slides: CarouselSlideItem[] = [\n    {\n        slide: Images.Slide1,\n        id: 1,\n        title: 'loftstylelife',\n        link: 'https://loftstylelife.ru/',\n    },\n    {\n        slide: Images.Slide2,\n        id: 2,\n        title: 'pasabahce',\n        link: 'https://www.wildberries.ru/brands/pasabahce',\n    },\n    {\n        slide: Images.Slide3,\n        id: 3,\n        title: 'liquimoly',\n        link: 'https://liquimoly.ru/',\n    },\n];\n\nconst Main: React.FC = () => {\n    // const dispatch = useDispatch();\n\n    const isLoaded = useSelector(selectors.allProducts.isLoaded);\n    const productsInMain = useSelector(selectors.allProducts.productsInMain);\n\n    useLocalStorageInBasket();\n    useLocalStorageToLikeProduct();\n\n    // useEffect(() => {\n    //     if (productsInMain && productsInMain.length === 0) {\n    //         dispatch(setProducts());\n    //     }\n    // }, [productsInMain]);\n\n    return (\n        <main className={style.main}>\n            <div className={style.container}>\n                <div className={style.mainBody}>\n                    <section className={style.banner}>\n                        <Carousel slides={slides} />\n                    </section>\n                    <section className={style.products}>\n                        <div className={style.productsWrapper}>\n                            {!isLoaded ? (\n                                <p>Loading...</p>\n                            ) : (\n                                productsInMain &&\n                                productsInMain.map((product) => (\n                                    <Product\n                                        key={product.id}\n                                        type={ProductViewType.forMain}\n                                        product={product}\n                                    />\n                                ))\n                            )}\n                        </div>\n                    </section>\n                </div>\n            </div>\n        </main>\n    );\n};\n\nexport default Main;\n"],"sourceRoot":""}