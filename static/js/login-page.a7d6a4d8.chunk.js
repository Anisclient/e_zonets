(this.webpackJsonpe_zonets=this.webpackJsonpe_zonets||[]).push([[3],{195:function(t,e,n){t.exports={form:"style_form__CYylZ",formTitle:"style_formTitle__3lxyt",buttonOffset:"style_buttonOffset__WVzVY",or:"style_or__2aTMH",orLine:"style_orLine__1SApa",orText:"style_orText__2BBxU",register:"style_register__1v8GZ"}},230:function(t,e,n){"use strict";n.r(e);var r=n(25),o=n.n(r),i=n(30),s=n(20),a=n(0),c=n(195),l=n.n(c),u=n(6),d=n(23),b=n(7),p=n(9),g=n(42),f=n(63),x=function(t,e){var n=t.login,r=t.password;return function(){var t=Object(i.a)(o.a.mark((function t(i){var s,a,c,l,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.a)({method:"POST",url:"/login",data:{login:n,password:r}});case 3:s=t.sent,window.localStorage.setItem(s.data.login,"sometoken"),i(Object(g.b)(!0)),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",{login:1===(null===t.t0||void 0===t.t0||null===(a=t.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.code)&&e("i18next.login.errorcode1")||2===(null===t.t0||void 0===t.t0||null===(l=t.t0.response)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.code)&&e("i18next.login.errorcode2")||e('"i18next.login.unknownerror"')});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},m=n(28),j=n(155),v=n(149),w=n(1);e.default=function(){var t=Object(v.a)().t,e=Object(a.useRef)(),n=Object(p.c)(m.e.isLogin),r=Object(p.b)();function c(){return(c=Object(i.a)(o.a.mark((function e(n){var i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.login,s=n.password,!i||!s){e.next=5;break}return e.abrupt("return",r(x({login:i,password:s},t)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(a.useEffect)((function(){e.current&&e.current.focus()}),[e.current]),n)return Object(w.jsx)(u.a,{to:b.a.main.url});return Object(w.jsx)(j.b,{onSubmit:function(t){return c.apply(this,arguments)},validate:function(e){var n={};return e.login||(n.login=t("i18next.login.errorenterlogin")),e.password||(n.password=t("i18next.login.errorenterpassword")),n},subscription:{submitting:!0},render:function(n){var r=n.handleSubmit;return Object(w.jsxs)("form",{className:l.a.form,onSubmit:r,children:[Object(w.jsx)("h3",{className:l.a.formTitle,children:t("i18next.login.title")}),Object(w.jsx)(j.c,{subscription:{submitting:!0},render:function(n){var r=n.submitting;return Object(w.jsx)(j.a,{name:"login",component:s.h,inputRef:e,label:"".concat(t("i18next.login.login"),":"),id:"login-input",placeholder:t("i18next.login.enterlogin"),link:{to:"".concat(b.a.recoverLogin.url),text:"".concat(t("i18next.login.forgotlogin"))},disabled:r})}}),Object(w.jsx)(j.c,{subscription:{submitting:!0},render:function(e){var n=e.submitting;return Object(w.jsx)(j.a,{name:"password",component:s.h,label:t("i18next.login.password"),id:"password-input",placeholder:t("i18next.login.enterpassword"),type:"password",link:{to:"".concat(b.a.recoverPassword.url),text:"".concat(t("i18next.login.forgotpassword"))},disabled:n})}}),Object(w.jsx)(j.c,{subscription:{submitting:!0,errors:!0,pristine:!0},render:function(e){var n=e.submitting,r=e.errors,o=e.pristine;return Object(w.jsx)(s.b,{colorScheme:s.c.green,className:l.a.buttonOffset,type:"submit",disabled:n||o||r.login||r.password,loading:n,children:t("i18next.login.continue")})}}),Object(w.jsx)(d.b,{className:l.a.register,to:b.a.register.url,children:t("i18next.login.register")})]})}})}}}]);
//# sourceMappingURL=login-page.a7d6a4d8.chunk.js.map